(this.webpackJsonponline_chat=this.webpackJsonponline_chat||[]).push([[0],{15:function(e,a,t){e.exports={form_wrapper:"login_form_form_wrapper__3c0gj",form_content:"login_form_form_content__1gmrk",fio:"login_form_fio__3utdu",fio_item:"login_form_fio_item__2_URx",register_info:"login_form_register_info__1hlH_",register_item:"login_form_register_item__UMqTV",create:"login_form_create__1vEdg",fio_item_wrong:"login_form_fio_item_wrong__33HFw",register_item_wrong:"login_form_register_item_wrong__1TRbt",register_block_wrong:"login_form_register_block_wrong__7cxsW"}},27:function(e,a,t){e.exports={header_wrapper:"Header_header_wrapper__3EQtX",header_wrapper_chat:"Header_header_wrapper_chat__1R4vU",items_wrapper:"Header_items_wrapper__Szx1W",nav_item:"Header_nav_item__2XKqm",nav_item_active:"Header_nav_item_active__2Qz8S"}},31:function(e,a,t){e.exports={user_email:"Chat_user_email__Aiwec",email_span:"Chat_email_span__eDhOR",message_wrapper:"Chat_message_wrapper__VpatY",inputWrapper:"Chat_inputWrapper__16cyN",input:"Chat_input__21U4E",btn:"Chat_btn__8EcNn"}},44:function(e,a,t){e.exports={loader:"Loader_loader__2t39W",rotate:"Loader_rotate__3K8jy",loader_wrapper:"Loader_loader_wrapper__3Yc9e"}},52:function(e,a,t){},58:function(e,a,t){},59:function(e,a,t){},67:function(e,a,t){"use strict";t.r(a);var r=t(8),n=t.n(r),s=t(48),c=t.n(s),o=(t(58),t(59),t(12)),i=t(28),l=t(29),u=Object(r.createContext)(),m=t(0),_=t.n(m),g=t(1),p=t(11),j="IS_FETCHING",d="ON_NAME_CHANGE",w="ON_LAST_NAME_CHANGE_CREATE",b="ON_EMAIL_CHANGE_CREATE",O="ON_PASSWORD_CHANGE_CREATE",h="ON_SEND_FORM_CREATE",N="WRONG_DATAN",f="WRONG_DATAL",C="WRONG_DATAE",x="WRONG_DATAP",v="ON_EMAIL_CHANGE_LOGIN",E="ON_PASSWORD_CHANGE_LOGIN",L="ON_SEND_FORM_LOGIN",A="CHAT_INPUT_CHANGE",y="ON_INPUT_SEND",P="SING_OUT",F=function(e,a){switch(a.type){case"HAS_ACCOUNT":return Object(p.a)({},e);case d:return Object(p.a)(Object(p.a)({},e),{},{nameCreate:a.nameValue,wrongName:a.wrongName});case w:return Object(p.a)(Object(p.a)({},e),{},{lastNameCreate:a.lastNameValue,wronLastName:a.wronLastName});case b:return Object(p.a)(Object(p.a)({},e),{},{emailCreate:a.emailValue,wrongEmail:a.wrongEmail});case O:return Object(p.a)(Object(p.a)({},e),{},{passwordCreate:a.passwordValue,wrongPassword:a.wrongPassword});case h:return Object(p.a)(Object(p.a)({},e),{},{nameCreate:a.nameValue,lastNameCreate:a.lastNameValue,emailCreate:a.emailValue,passwordCreate:a.passwordValue,isRegister:a.isRegister,wrongName:a.wrongName,wronLastName:a.wronLastName,wrongEmail:a.wrongEmail,wrongPassword:a.wrongPassword});case v:return Object(p.a)(Object(p.a)({},e),{},{emailLog:a.emailValueLog,wrongEmail:a.wrongEmail});case E:return Object(p.a)(Object(p.a)({},e),{},{passwordLog:a.passwordValueLog,wrongPassword:a.wrongPassword});case L:return Object(p.a)(Object(p.a)({},e),{},{emailLog:a.emailLog,passwordLog:a.passwordLog,isRegister:a.isRegister});case N:return Object(p.a)(Object(p.a)({},e),{},{wrongName:a.wrongName});case f:return Object(p.a)(Object(p.a)({},e),{},{wronLastName:a.wronLastName});case C:return Object(p.a)(Object(p.a)({},e),{},{wrongEmail:a.wrongEmail});case x:return Object(p.a)(Object(p.a)({},e),{},{wrongPassword:a.wrongPassword});case A:case y:return Object(p.a)(Object(p.a)({},e),{},{inputChat:a.inputChat});case P:return Object(p.a)(Object(p.a)({},e),{},{isRegister:a.isRegister});case j:return Object(p.a)(Object(p.a)({},e),{},{isFetching:!0});default:return Object(p.a)({},e)}},I=t(26),R=t(37),G=t(49),k=t(7),T=(Object(G.a)({apiKey:"AIzaSyDE5xkXtHzNr59QfWdCAhUwp2nHjKxmGeQ",authDomain:"onlinechat-bcf87.firebaseapp.com",projectId:"onlinechat-bcf87",storageBucket:"onlinechat-bcf87.appspot.com",messagingSenderId:"969077488359",appId:"1:969077488359:web:768037791dd46347da8042"}),Object(R.b)()),V=Object(I.c)(),D=function(e){var a=e.children,t=Object(r.useReducer)(F,{isFetching:!1,isRegister:!1,emailLog:"",passwordLog:"",nameCreate:"",lastNameCreate:"",emailCreate:"",passwordCreate:"",inputChat:"",wrongName:!1,wronLastName:!1,wrongEmail:!1,wrongPassword:!1,dataMessage:[]}),n=Object(o.a)(t,2),s=n[0],c=n[1],i=function(){c({type:j})},l=function(){var e=Object(g.a)(_.a.mark((function e(){var a,t,r,n,o,l=arguments;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=l.length>0&&void 0!==l[0]?l[0]:"",t=l.length>1&&void 0!==l[1]?l[1]:"",r=l.length>2&&void 0!==l[2]?l[2]:"",n=l.length>3&&void 0!==l[3]?l[3]:"",o={name:s.nameCreate,lastName:s.lastNameCreate,email:s.emailCreate,password:s.passwordCreate},!(/^['A-Za-z\u0410-\u044F][ '\x2DA-Za-z\u0410-\u044F]+['A-Za-z\u0410-\u044F]?$/.test(s.nameCreate)&&/^['A-Za-z\u0410-\u044F][ '\x2DA-Za-z\u0410-\u044F]+['A-Za-z\u0410-\u044F]?$/.test(s.lastNameCreate)&&/^[A-Z0-9._%+-]+@[A-Z0-9-]+.+.[A-Z]{2,4}$/i.test(s.emailCreate)&&s.passwordCreate.length>6)){e.next=10;break}return i(),e.next=10,Object(R.a)(T,o.email,o.password).then((function(){c({type:h,nameValue:a,lastNameValue:t,emailValue:r,passwordValue:n,isRegister:!0,wrongName:!1,wronLastName:!1,wrongEmail:!1,wrongPassword:!1})})).catch((function(e){return alert(e.message)}));case 10:!1===/^['A-Za-z\u0410-\u044F][ '\x2DA-Za-z\u0410-\u044F]+['A-Za-z\u0410-\u044F]?$/.test(s.nameCreate)&&c({type:N,wrongName:!0}),!1===/^['A-Za-z\u0410-\u044F][ '\x2DA-Za-z\u0410-\u044F]+['A-Za-z\u0410-\u044F]?$/.test(s.lastNameCreate)&&c({type:f,wronLastName:!0}),/^[A-Z0-9._%+-]+@[A-Z0-9-]+.+.[A-Z]{2,4}$/i.test(s.emailCreate)||c({type:C,wrongEmail:!0}),s.passwordCreate.length<6&&c({type:x,wrongPassword:!0});case 14:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),m=function(){var e=Object(g.a)(_.a.mark((function e(){return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(R.c)(s.emailLog,s.passwordLog).then((function(){c({type:"SING_OUT",isRegister:!0})}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),p=function(){var e=Object(g.a)(_.a.mark((function e(){return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(I.a)(Object(I.b)(V,"message"),{user:T.currentUser.email,text:s.inputChat,timestamp:Object(I.d)()});case 2:e.sent,console.log(s.inputChat),c({type:y,inputChat:""});case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),G=function(){var e=Object(g.a)(_.a.mark((function e(){return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c({type:P,isRegister:!1}),e.next=3,T.signOut();case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),D=function(){var e=Object(g.a)(_.a.mark((function e(){var a,t,r,n=arguments;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.length>0&&void 0!==n[0]?n[0]:"",t=n.length>1&&void 0!==n[1]?n[1]:"",r={email:s.emailLog,password:s.passwordLog},e.prev=4,e.next=7,Object(R.c)(T,r.email,r.password).then((function(){c({type:L,emailLog:a,passwordLog:t,isRegister:!0})}));case 7:e.next=22;break;case 9:e.prev=9,e.t0=e.catch(4),console.log(e.t0.message),e.t1=e.t0.message,e.next="Firebase: Error (auth/invalid-email)."===e.t1?15:"Firebase: Error (auth/user-not-found)."===e.t1?16:"Firebase: Error (auth/internal-error)."===e.t1?18:"Firebase: Error (auth/wrong-password)."===e.t1?19:21;break;case 15:c({type:C,wrongEmail:!0});case 16:c({type:C,wrongEmail:!0}),c({type:x,wrongPassword:!0});case 18:c({type:x,wrongPassword:!0});case 19:return c({type:x,wrongPassword:!0}),e.abrupt("break",22);case 21:return e.abrupt("break",22);case 22:case"end":return e.stop()}}),e,null,[[4,9]])})));return function(){return e.apply(this,arguments)}}();return Object(k.jsx)(u.Provider,{value:{state:s,nameChangeCreate:function(e){c({type:d,nameValue:e,wrongName:!1})},LastNameChangeCreate:function(e){c({type:w,lastNameValue:e,wronLastName:!1})},emailChangeCreate:function(e){c({type:b,emailValue:e,wrongEmail:!1})},passwordChangeCreate:function(e){c({type:O,passwordValue:e,wrongPassword:!1})},sendDataCreate:l,emailChangeLOGIN:function(e){c({type:v,emailValueLog:e,wrongEmail:!1})},passwodChangeLOGIN:function(e){c({type:E,passwordValueLog:e,wrongPassword:!1})},sendDataLOGIN:D,singOUT:G,singIN:m,changeInputChat:function(e){c({type:A,inputChat:e})},sendMessage:p},children:a})},H=t(31),S=t.n(H),Z=t(44),z=t.n(Z),W=function(){return Object(k.jsx)("div",{className:z.a.loader_wrapper,children:Object(k.jsx)("div",{className:z.a.loader})})},U=function(){var e=Object(i.a)(T),a=Object(o.a)(e,2),t=a[0],n=a[1],s=Object(r.useContext)(u),c=s.state,l=s.changeInputChat,m=s.sendMessage;return n?Object(k.jsx)(W,{}):Object(k.jsxs)("div",{children:[t?Object(k.jsxs)("div",{className:S.a.user_email,children:["Your email: ",Object(k.jsx)("span",{className:S.a.email_span,children:t.email})]}):Object(k.jsx)("div",{}),Object(k.jsx)("div",{className:S.a.message_wrapper}),Object(k.jsxs)("div",{className:S.a.inputWrapper,children:[Object(k.jsx)("input",{onChange:function(e){return l(e.target.value)},value:c.inputChat,className:S.a.input,type:"text",placeholder:"Your message:"}),Object(k.jsx)("button",{onClick:function(){return m()},className:S.a.btn,children:"Send"})]})]})},M=t(27),Y=t.n(M),$=function(){var e=Object(r.useContext)(u),a=(e.state,e.singOUT),t=Object(i.a)(T);return Object(o.a)(t,1)[0]?Object(k.jsx)("div",{className:Y.a.header_wrapper_chat,children:Object(k.jsx)(l.b,{onClick:function(){return a()},className:Y.a.nav_item,to:"/online_chat/",children:"Log Out"})}):Object(k.jsx)("div",{className:Y.a.header_wrapper,children:Object(k.jsxs)("div",{className:Y.a.items_wrapper,children:[Object(k.jsx)(l.b,{activeClassName:Y.a.nav_item_active,className:Y.a.nav_item,to:"/online_chat/login/create/",children:"Create New Account"}),Object(k.jsx)(l.b,{activeClassName:Y.a.nav_item_active,className:Y.a.nav_item,exact:!0,to:"/online_chat/",children:"Log In"})]})})},K=t(13),Q=t(15),B=t.n(Q),X=function(){var e=Object(r.useContext)(u),a=e.state,t=e.nameChangeCreate,n=e.LastNameChangeCreate,s=e.emailChangeCreate,c=e.passwordChangeCreate,o=e.sendDataCreate;return Object(k.jsx)("div",{className:B.a.form_wrapper,children:Object(k.jsxs)("div",{className:B.a.form_content,children:[Object(k.jsxs)("div",{className:B.a.fio,children:[Object(k.jsx)("input",{onChange:function(e){return t(e.target.value)},value:a.nameCreate,className:a.wrongName?B.a.fio_item_wrong:B.a.fio_item,type:"text",placeholder:"First Name"}),Object(k.jsx)("input",{onChange:function(e){return n(e.target.value)},value:a.lastNameCreate,className:a.wronLastName?B.a.fio_item_wrong:B.a.fio_item,type:"text",placeholder:"Last Name"})]}),Object(k.jsxs)("div",{className:B.a.register_info,children:[Object(k.jsx)("input",{onChange:function(e){return s(e.target.value)},value:a.emailCreate,className:a.wrongEmail?B.a.register_item_wrong:B.a.register_item,type:"text",placeholder:"Email"}),Object(k.jsx)("input",{onChange:function(e){return c(e.target.value)},value:a.passwordCreate,className:a.wrongPassword?B.a.register_item_wrong:B.a.register_item,type:"text",placeholder:"Your Password"})]}),Object(k.jsx)("button",{onClick:function(){return o()},className:B.a.create,children:"Create Account"})]})})},q=function(){var e=Object(r.useContext)(u),a=e.state,t=e.emailChangeLOGIN,n=e.passwodChangeLOGIN,s=e.sendDataLOGIN;return Object(k.jsx)("div",{className:B.a.form_wrapper,children:Object(k.jsxs)("div",{className:B.a.form_content,children:[Object(k.jsxs)("div",{className:B.a.register_info,children:[Object(k.jsx)("input",{className:a.wrongEmail?B.a.register_item_wrong:B.a.register_item,onChange:function(e){return t(e.target.value)},value:a.emailLog,type:"text",placeholder:"Email"}),Object(k.jsx)("input",{className:a.wrongPassword?B.a.register_item_wrong:B.a.register_item,onChange:function(e){return n(e.target.value)},value:a.passwordLog,type:"text",placeholder:"Your Password"})]}),a.wrongEmail||a.wrongPassword?Object(k.jsx)("div",{className:B.a.register_block_wrong,children:" Wrong Email or Password"}):Object(k.jsx)("div",{}),Object(k.jsx)("button",{onClick:function(){return s()},className:B.a.create,children:"Log In"})]})})},J=t(52),ee=t.n(J),ae=function(){return Object(k.jsx)("div",{className:ee.a.log_wrapper,children:Object(k.jsxs)(K.d,{children:[Object(k.jsx)(K.b,{path:"/online_chat/login/create/",component:X}),Object(k.jsx)(K.b,{path:"/online_chat/",component:q})]})})},te=function(){var e=Object(i.a)(T),a=Object(o.a)(e,2),t=a[0];a[1];return Object(k.jsx)(k.Fragment,{children:t?Object(k.jsxs)(K.d,{children:[Object(k.jsx)(K.b,{path:"/online_chat/chat/",component:U}),Object(k.jsx)(K.a,{to:"/online_chat/chat/"})]}):Object(k.jsxs)(K.d,{children:[Object(k.jsx)(K.b,{path:"/online_chat/",component:ae}),Object(k.jsx)(K.a,{to:"/online_chat/"})]})})},re=function(){var e=Object(i.a)(T),a=Object(o.a)(e,2);a[0];return a[1]?Object(k.jsx)(W,{}):Object(k.jsx)(k.Fragment,{children:Object(k.jsx)(l.a,{children:Object(k.jsxs)(D,{children:[Object(k.jsx)($,{}),Object(k.jsx)(te,{})]})})})};var ne=function(){return Object(k.jsx)(re,{})},se=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,68)).then((function(a){var t=a.getCLS,r=a.getFID,n=a.getFCP,s=a.getLCP,c=a.getTTFB;t(e),r(e),n(e),s(e),c(e)}))};c.a.render(Object(k.jsx)(n.a.StrictMode,{children:Object(k.jsx)(D,{children:Object(k.jsx)(ne,{})})}),document.getElementById("root")),se()}},[[67,1,2]]]);
//# sourceMappingURL=main.9574da14.chunk.js.map