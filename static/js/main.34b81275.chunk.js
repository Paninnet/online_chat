(this.webpackJsonponline_chat=this.webpackJsonponline_chat||[]).push([[0],{15:function(e,a,t){e.exports={form_wrapper:"login_form_form_wrapper__3c0gj",form_content:"login_form_form_content__1gmrk",fio:"login_form_fio__3utdu",fio_item:"login_form_fio_item__2_URx",register_info:"login_form_register_info__1hlH_",register_item:"login_form_register_item__UMqTV",create:"login_form_create__1vEdg",fio_item_wrong:"login_form_fio_item_wrong__33HFw",register_item_wrong:"login_form_register_item_wrong__1TRbt",register_block_wrong:"login_form_register_block_wrong__7cxsW"}},29:function(e,a,t){e.exports={header_wrapper:"Header_header_wrapper__3EQtX",header_wrapper_chat:"Header_header_wrapper_chat__1R4vU",items_wrapper:"Header_items_wrapper__Szx1W",nav_item:"Header_nav_item__2XKqm",nav_item_active:"Header_nav_item_active__2Qz8S"}},31:function(e,a,t){e.exports={user_email:"Chat_user_email__Aiwec",email_span:"Chat_email_span__eDhOR",message_wrapper:"Chat_message_wrapper__VpatY",inputWrapper:"Chat_inputWrapper__16cyN",input:"Chat_input__21U4E",btn:"Chat_btn__8EcNn"}},46:function(e,a,t){e.exports={loader:"Loader_loader__2t39W",rotate:"Loader_rotate__3K8jy",loader_wrapper:"Loader_loader_wrapper__3Yc9e"}},54:function(e,a,t){},60:function(e,a,t){},61:function(e,a,t){},69:function(e,a,t){"use strict";t.r(a);var r=t(6),n=t.n(r),s=t(50),o=t.n(s),c=(t(60),t.p,t(61),t(12)),i=t(27),u=t(28),l=t(38),m=Object(r.createContext)(),_=t(0),g=t.n(_),p=t(1),j=t(11),d="IS_FETCHING",w="ON_NAME_CHANGE",b="ON_LAST_NAME_CHANGE_CREATE",O="ON_EMAIL_CHANGE_CREATE",h="ON_PASSWORD_CHANGE_CREATE",f="ON_SEND_FORM_CREATE",N="WRONG_DATAN",C="WRONG_DATAL",x="WRONG_DATAE",v="WRONG_DATAP",E="ON_EMAIL_CHANGE_LOGIN",L="ON_PASSWORD_CHANGE_LOGIN",A="ON_SEND_FORM_LOGIN",y="CHAT_INPUT_CHANGE",P="ON_INPUT_SEND",I="SING_OUT",R=function(e,a){switch(a.type){case"HAS_ACCOUNT":return Object(j.a)({},e);case w:return Object(j.a)(Object(j.a)({},e),{},{nameCreate:a.nameValue,wrongName:a.wrongName});case b:return Object(j.a)(Object(j.a)({},e),{},{lastNameCreate:a.lastNameValue,wronLastName:a.wronLastName});case O:return Object(j.a)(Object(j.a)({},e),{},{emailCreate:a.emailValue,wrongEmail:a.wrongEmail});case h:return Object(j.a)(Object(j.a)({},e),{},{passwordCreate:a.passwordValue,wrongPassword:a.wrongPassword});case f:return Object(j.a)(Object(j.a)({},e),{},{nameCreate:a.nameValue,lastNameCreate:a.lastNameValue,emailCreate:a.emailValue,passwordCreate:a.passwordValue,isRegister:a.isRegister,wrongName:a.wrongName,wronLastName:a.wronLastName,wrongEmail:a.wrongEmail,wrongPassword:a.wrongPassword});case E:return Object(j.a)(Object(j.a)({},e),{},{emailLog:a.emailValueLog,wrongEmail:a.wrongEmail});case L:return Object(j.a)(Object(j.a)({},e),{},{passwordLog:a.passwordValueLog,wrongPassword:a.wrongPassword});case A:return Object(j.a)(Object(j.a)({},e),{},{emailLog:a.emailLog,passwordLog:a.passwordLog,isRegister:a.isRegister});case N:return Object(j.a)(Object(j.a)({},e),{},{wrongName:a.wrongName});case C:return Object(j.a)(Object(j.a)({},e),{},{wronLastName:a.wronLastName});case x:return Object(j.a)(Object(j.a)({},e),{},{wrongEmail:a.wrongEmail});case v:return Object(j.a)(Object(j.a)({},e),{},{wrongPassword:a.wrongPassword});case y:case P:return Object(j.a)(Object(j.a)({},e),{},{inputChat:a.inputChat});case I:return Object(j.a)(Object(j.a)({},e),{},{isRegister:a.isRegister});case d:return Object(j.a)(Object(j.a)({},e),{},{isFetching:!0});default:return Object(j.a)({},e)}},F=t(22),G=t(37),k=t(51),T=(t(48),t(8)),V=(Object(k.a)({apiKey:"AIzaSyDE5xkXtHzNr59QfWdCAhUwp2nHjKxmGeQ",authDomain:"onlinechat-bcf87.firebaseapp.com",projectId:"onlinechat-bcf87",storageBucket:"onlinechat-bcf87.appspot.com",messagingSenderId:"969077488359",appId:"1:969077488359:web:768037791dd46347da8042"}),Object(G.b)()),D=Object(F.d)(),H=function(e){var a=e.children,t=Object(r.useReducer)(R,{isFetching:!1,isRegister:!1,emailLog:"",passwordLog:"",nameCreate:"",lastNameCreate:"",emailCreate:"",passwordCreate:"",inputChat:"",wrongName:!1,wronLastName:!1,wrongEmail:!1,wrongPassword:!1}),n=Object(c.a)(t,2),s=n[0],o=n[1],i=function(){o({type:d})},u=function(){var e=Object(p.a)(g.a.mark((function e(){var a,t,r,n,c,u=arguments;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=u.length>0&&void 0!==u[0]?u[0]:"",t=u.length>1&&void 0!==u[1]?u[1]:"",r=u.length>2&&void 0!==u[2]?u[2]:"",n=u.length>3&&void 0!==u[3]?u[3]:"",c={name:s.nameCreate,lastName:s.lastNameCreate,email:s.emailCreate,password:s.passwordCreate},!(/^['A-Za-z\u0410-\u044F][ '\x2DA-Za-z\u0410-\u044F]+['A-Za-z\u0410-\u044F]?$/.test(s.nameCreate)&&/^['A-Za-z\u0410-\u044F][ '\x2DA-Za-z\u0410-\u044F]+['A-Za-z\u0410-\u044F]?$/.test(s.lastNameCreate)&&/^[A-Z0-9._%+-]+@[A-Z0-9-]+.+.[A-Z]{2,4}$/i.test(s.emailCreate)&&s.passwordCreate.length>6)){e.next=10;break}return i(),e.next=10,Object(G.a)(V,c.email,c.password).then((function(){o({type:f,nameValue:a,lastNameValue:t,emailValue:r,passwordValue:n,isRegister:!0,wrongName:!1,wronLastName:!1,wrongEmail:!1,wrongPassword:!1})})).catch((function(e){return alert(e.message)}));case 10:!1===/^['A-Za-z\u0410-\u044F][ '\x2DA-Za-z\u0410-\u044F]+['A-Za-z\u0410-\u044F]?$/.test(s.nameCreate)&&o({type:N,wrongName:!0}),!1===/^['A-Za-z\u0410-\u044F][ '\x2DA-Za-z\u0410-\u044F]+['A-Za-z\u0410-\u044F]?$/.test(s.lastNameCreate)&&o({type:C,wronLastName:!0}),/^[A-Z0-9._%+-]+@[A-Z0-9-]+.+.[A-Z]{2,4}$/i.test(s.emailCreate)||o({type:x,wrongEmail:!0}),s.passwordCreate.length<6&&o({type:v,wrongPassword:!0});case 14:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),l=function(){var e=Object(p.a)(g.a.mark((function e(){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(G.c)(s.emailLog,s.passwordLog).then((function(){o({type:"SING_OUT",isRegister:!0})}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),_=function(){var e=Object(p.a)(g.a.mark((function e(){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(F.a)(Object(F.b)(D,"message"),{user:V.currentUser.email,text:s.inputChat,timestamp:Object(F.e)()});case 2:e.sent,console.log(s.inputChat),o({type:P,inputChat:""});case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),j=function(){var e=Object(p.a)(g.a.mark((function e(){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o({type:I,isRegister:!1}),e.next=3,V.signOut();case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),k=function(){var e=Object(p.a)(g.a.mark((function e(){var a,t,r,n=arguments;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.length>0&&void 0!==n[0]?n[0]:"",t=n.length>1&&void 0!==n[1]?n[1]:"",r={email:s.emailLog,password:s.passwordLog},e.prev=4,e.next=7,Object(G.c)(V,r.email,r.password).then((function(){o({type:A,emailLog:a,passwordLog:t,isRegister:!0})}));case 7:e.next=20;break;case 9:e.prev=9,e.t0=e.catch(4),console.log(e.t0.message),e.t1=e.t0.message,e.next="Firebase: Error (auth/invalid-email)."===e.t1?15:"Firebase: Error (auth/internal-error)."===e.t1?16:"Firebase: Error (auth/wrong-password)."===e.t1?17:19;break;case 15:o({type:x,wrongEmail:!0});case 16:o({type:v,wrongPassword:!0});case 17:return o({type:v,wrongPassword:!0}),e.abrupt("break",20);case 19:return e.abrupt("break",20);case 20:case"end":return e.stop()}}),e,null,[[4,9]])})));return function(){return e.apply(this,arguments)}}();return Object(T.jsx)(m.Provider,{value:{state:s,nameChangeCreate:function(e){o({type:w,nameValue:e,wrongName:!1})},LastNameChangeCreate:function(e){o({type:b,lastNameValue:e,wronLastName:!1})},emailChangeCreate:function(e){o({type:O,emailValue:e,wrongEmail:!1})},passwordChangeCreate:function(e){o({type:h,passwordValue:e,wrongPassword:!1})},sendDataCreate:u,emailChangeLOGIN:function(e){o({type:E,emailValueLog:e,wrongEmail:!1})},passwodChangeLOGIN:function(e){o({type:L,passwordValueLog:e,wrongPassword:!1})},sendDataLOGIN:k,singOUT:j,singIN:l,changeInputChat:function(e){o({type:y,inputChat:e})},sendMessage:_},children:a})},S=t(29),Z=t.n(S),z=function(){var e=Object(r.useContext)(m),a=(e.state,e.singOUT),t=Object(i.a)(V);return Object(c.a)(t,1)[0]?Object(T.jsx)("div",{className:Z.a.header_wrapper_chat,children:Object(T.jsx)(u.b,{onClick:function(){return a()},className:Z.a.nav_item,to:"/login/log/",children:"Log Out"})}):Object(T.jsx)("div",{className:Z.a.header_wrapper,children:Object(T.jsxs)("div",{className:Z.a.items_wrapper,children:[Object(T.jsx)(u.b,{activeClassName:Z.a.nav_item_active,className:Z.a.nav_item,to:"/login/create/",children:"Create New Account"}),Object(T.jsx)(u.b,{activeClassName:Z.a.nav_item_active,className:Z.a.nav_item,to:"/login/log/",children:"Log In"})]})})},W=t(13),U=t(15),M=t.n(U),Y=function(){var e=Object(r.useContext)(m),a=e.state,t=e.nameChangeCreate,n=e.LastNameChangeCreate,s=e.emailChangeCreate,o=e.passwordChangeCreate,c=e.sendDataCreate;return Object(T.jsx)("div",{className:M.a.form_wrapper,children:Object(T.jsxs)("div",{className:M.a.form_content,children:[Object(T.jsxs)("div",{className:M.a.fio,children:[Object(T.jsx)("input",{onChange:function(e){return t(e.target.value)},value:a.nameCreate,className:a.wrongName?M.a.fio_item_wrong:M.a.fio_item,type:"text",placeholder:"First Name"}),Object(T.jsx)("input",{onChange:function(e){return n(e.target.value)},value:a.lastNameCreate,className:a.wronLastName?M.a.fio_item_wrong:M.a.fio_item,type:"text",placeholder:"Last Name"})]}),Object(T.jsxs)("div",{className:M.a.register_info,children:[Object(T.jsx)("input",{onChange:function(e){return s(e.target.value)},value:a.emailCreate,className:a.wrongEmail?M.a.register_item_wrong:M.a.register_item,type:"text",placeholder:"Email"}),Object(T.jsx)("input",{onChange:function(e){return o(e.target.value)},value:a.passwordCreate,className:a.wrongPassword?M.a.register_item_wrong:M.a.register_item,type:"text",placeholder:"Your Password"})]}),Object(T.jsx)("button",{onClick:function(){return c()},className:M.a.create,children:"Create Account"})]})})},$=function(){var e=Object(r.useContext)(m),a=e.state,t=e.emailChangeLOGIN,n=e.passwodChangeLOGIN,s=e.sendDataLOGIN;return Object(T.jsx)("div",{className:M.a.form_wrapper,children:Object(T.jsxs)("div",{className:M.a.form_content,children:[Object(T.jsxs)("div",{className:M.a.register_info,children:[Object(T.jsx)("input",{className:a.wrongEmail?M.a.register_item_wrong:M.a.register_item,onChange:function(e){return t(e.target.value)},value:a.emailLog,type:"text",placeholder:"Email"}),Object(T.jsx)("input",{className:a.wrongPassword?M.a.register_item_wrong:M.a.register_item,onChange:function(e){return n(e.target.value)},value:a.passwordLog,type:"text",placeholder:"Your Password"})]}),a.wrongEmail||a.wrongPassword?Object(T.jsx)("div",{className:M.a.register_block_wrong,children:" Wrong Email or Password"}):Object(T.jsx)("div",{}),Object(T.jsx)("button",{onClick:function(){return s()},className:M.a.create,children:"Log In"})]})})},K=t(54),Q=t.n(K),B=function(){return Object(T.jsx)("div",{className:Q.a.log_wrapper,children:Object(T.jsxs)(W.d,{children:[Object(T.jsx)(W.b,{path:"/login/create/",component:Y}),Object(T.jsx)(W.b,{path:"/login/log/",component:$})]})})},X=t(31),q=t.n(X),J=t(46),ee=t.n(J),ae=function(){return Object(T.jsx)("div",{className:ee.a.loader_wrapper,children:Object(T.jsx)("div",{className:ee.a.loader})})},te=function(){var e=Object(i.a)(V),a=Object(c.a)(e,2),t=a[0],n=a[1],s=Object(r.useContext)(m),o=s.state,u=s.changeInputChat,_=s.sendMessage;Object(l.useEffect)((function(){console.log(j())}),[]);var j=function(){var e=Object(p.a)(g.a.mark((function e(){var a;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=[],e.next=3,Object(F.c)(Object(F.b)(D,"message"));case 3:return e.sent.forEach((function(e){a.push(e.data()),console.log(e.id," => ",e.data())})),e.abrupt("return",a);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return n?Object(T.jsx)(ae,{}):Object(T.jsxs)("div",{children:[t?Object(T.jsxs)("div",{className:q.a.user_email,children:["Your email: ",Object(T.jsx)("span",{className:q.a.email_span,children:t.email})]}):Object(T.jsx)("div",{}),Object(T.jsx)("div",{className:q.a.message_wrapper}),Object(T.jsxs)("div",{className:q.a.inputWrapper,children:[Object(T.jsx)("input",{onChange:function(e){return u(e.target.value)},value:o.inputChat,className:q.a.input,type:"text",placeholder:"Your message:"}),Object(T.jsx)("button",{onClick:function(){return _()},className:q.a.btn,children:"Send"})]})]})},re=function(){var e=Object(i.a)(V),a=Object(c.a)(e,2),t=a[0];a[1];return Object(T.jsx)(T.Fragment,{children:t?Object(T.jsxs)(W.d,{children:[Object(T.jsx)(W.b,{path:"/chat/",component:te}),Object(T.jsx)(W.a,{to:"/chat/"})]}):Object(T.jsxs)(W.d,{children:[Object(T.jsx)(W.b,{path:"/login/",component:B}),Object(T.jsx)(W.a,{to:"/login/log"})]})})},ne=function(){var e=Object(i.a)(V),a=Object(c.a)(e,2);a[0];return a[1]?Object(T.jsx)(ae,{}):Object(T.jsx)(u.a,{children:Object(T.jsxs)(H,{children:[Object(T.jsx)(z,{}),Object(T.jsx)(re,{})]})})};var se=function(){return Object(T.jsx)(ne,{})},oe=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,70)).then((function(a){var t=a.getCLS,r=a.getFID,n=a.getFCP,s=a.getLCP,o=a.getTTFB;t(e),r(e),n(e),s(e),o(e)}))};o.a.render(Object(T.jsx)(n.a.StrictMode,{children:Object(T.jsx)(H,{children:Object(T.jsx)(se,{})})}),document.getElementById("root")),oe()}},[[69,1,2]]]);
//# sourceMappingURL=main.34b81275.chunk.js.map